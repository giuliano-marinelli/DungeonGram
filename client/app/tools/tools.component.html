<div id="tools">

  <div class="tool-btn-container" *ngFor="let tool of orderedTools" id="tool-btn-container-{{tool.name}}">

    <div class="{{tool.dropdown ? 'dropright' : ''}}">

      <button class="btn btn-dark tool-btn {{tool.active ? 'active' : ''}} {{tool.dropdown ? 'dropdown-toggle' : ''}}"
        (click)="callTool($event, tool.name)" attr.data-toggle="{{tool.dropdown ? 'dropdown' : ''}}"
        attr.data-toggle-tooltip="{{tool.dropdown ? '' : 'tooltip'}}" title="{{tool.dropdown ? '' : tool.label}}"
        data-placement="right">
        <img src="{{tool.image}}">
      </button>

      <div *ngIf="tool.dropdown" class="dropdown-menu">
        <div [ngSwitch]="tool.name">
          <h5>{{tool.label}}</h5>

          <div *ngSwitchCase="'grid'">
            <div class="form-group">
              <label>Width</label>
              <label style="float: right">{{grid_width.value}}</label>
              <input type="range" class="form-control-range" #grid_width
                (change)="tool.actions.gridSize({ width: grid_width.value, height: grid_height.value })" min="10"
                max="1000" step="2" value="50" />
            </div>
            <div class="form-group">
              <label>Height</label>
              <label style="float: right">{{grid_height.value}}</label>
              <input type="range" class="form-control-range" #grid_height
                (change)="tool.actions.gridSize({ width: grid_width.value, height: grid_height.value })" min="10"
                max="1000" step="2" value="50" />
            </div>
            <div class="custom-control custom-switch">
              <input type="checkbox" class="custom-control-input" id="tool-grid-show" #grid_show
                (change)="tool.actions.show(grid_show.checked)" checked="true">
              <label class="custom-control-label" for="tool-grid-show">Show</label>
            </div>
          </div>

          <div *ngSwitchCase="'walls'">
            <div class="form-group">
              <label>Visibility</label>
              <label style="float: right">{{walls_visibility.value}}</label>
              <input type="range" class="form-control-range" #walls_visibility
                (change)="tool.actions.visibility({ value: walls_visibility.value })" min="0" max="1" step="0.1"
                value="0.5" />
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="tool-walls-adjust-to" id="tool-walls-adjust-to-grid"
                value="grid" #walls_adjust_to_grid (change)="tool.actions.adjustTo(walls_adjust_to_grid.value)" checked>
              <label class="form-check-label" for="tool-walls-adjust-to-grid">
                Adjust to Grid
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="tool-walls-adjust-to"
                id="tool-walls-adjust-to-half-grid" value="half_grid" #walls_adjust_to_half_grid
                (change)="tool.actions.adjustTo(walls_adjust_to_half_grid.value)">
              <label class="form-check-label" for="tool-walls-adjust-to-half-grid">
                Adjust to Half Grid
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="tool-walls-adjust-to"
                id="tool-walls-adjust-to-quarter-grid" value="quarter_grid" #walls_adjust_to_quarter_grid
                (change)="tool.actions.adjustTo(walls_adjust_to_quarter_grid.value)">
              <label class="form-check-label" for="tool-walls-adjust-to-quarter-grid">
                Adjust to Quarter Grid
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="tool-walls-adjust-to" id="tool-walls-adjust-to-none"
                value="none" #walls_adjust_to_none (change)="tool.actions.adjustTo(walls_adjust_to_none.value)">
              <label class="form-check-label" for="tool-walls-adjust-to-none">
                Not Adjust
              </label>
            </div>
            <hr />
            <div class="custom-control custom-switch">
              <input type="checkbox" class="custom-control-input" id="tool-walls-remove" #walls_remove
                (change)="tool.actions.remove(walls_remove.checked)" checked>
              <label class="custom-control-label" for="tool-walls-remove">Remove on Click</label>
            </div>
            <!-- <div class="custom-control custom-switch">
              <input type="checkbox" class="custom-control-input" id="tool-walls-adjust-to-grid" #walls_adjust_to_grid
                (change)="tool.actions.adjustToGrid(walls_adjust_to_grid.checked)" checked>
              <label class="custom-control-label" for="tool-walls-adjust-to-grid">Adjust to Grid</label>
            </div> -->
          </div>

          <div *ngSwitchCase="'fogOfWar'">
            <div class="form-group">
              <label>Visibility</label>
              <label style="float: right">{{fogOfWar_visibility.value}}</label>
              <input type="range" class="form-control-range" #fogOfWar_visibility
                (change)="tool.actions.visibility({ value: fogOfWar_visibility.value })" min="0" max="1" step="0.1"
                value="0" />
            </div>
          </div>

          <div *ngSwitchCase="'rule'">
            <div class="form-check">
              <input class="form-check-input" type="radio" name="tool-rule-adjust-to" id="tool-rule-adjust-to-corner"
                value="corner" #rule_adjust_to_corner (change)="tool.actions.adjustTo(rule_adjust_to_corner.value)">
              <label class="form-check-label" for="tool-rule-adjust-to-corner">
                Adjust to Corner
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="tool-rule-adjust-to" id="tool-rule-adjust-to-center"
                value="center" #rule_adjust_to_center (change)="tool.actions.adjustTo(rule_adjust_to_center.value)"
                checked>
              <label class="form-check-label" for="tool-rule-adjust-to-center">
                Adjust to Center
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="tool-rule-adjust-to" id="tool-rule-adjust-to-none"
                value="none" #rule_adjust_to_none (change)="tool.actions.adjustTo(rule_adjust_to_none.value)">
              <label class="form-check-label" for="tool-rule-adjust-to-none">
                Not Adjust
              </label>
            </div>
            <hr />
            <div class="custom-control custom-switch">
              <input type="checkbox" class="custom-control-input" id="tool-rule-normalize-unit" #rule_normalize_unit
                (change)="tool.actions.normalizeUnit(rule_normalize_unit.checked)" checked>
              <label class="custom-control-label" for="tool-rule-normalize-unit">Normalize Unit</label>
            </div>
            <div class="custom-control custom-switch">
              <input type="checkbox" class="custom-control-input" id="tool-rule-share" #rule_share
                (change)="tool.actions.share(rule_share.checked)">
              <label class="custom-control-label" for="tool-rule-share">Share with others</label>
            </div>
          </div>

          <div *ngSwitchCase="'figure'">
            <div class="form-check">
              <input class="form-check-input" type="radio" name="tool-figure-adjust-to" id="tool-figure-adjust-to-corner"
                value="corner" #figure_adjust_to_corner (change)="tool.actions.adjustTo(figure_adjust_to_corner.value)">
              <label class="form-check-label" for="tool-figure-adjust-to-corner">
                Adjust to Corner
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="tool-figure-adjust-to" id="tool-figure-adjust-to-center"
                value="center" #figure_adjust_to_center (change)="tool.actions.adjustTo(figure_adjust_to_center.value)"
                checked>
              <label class="form-check-label" for="tool-figure-adjust-to-center">
                Adjust to Center
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="tool-figure-adjust-to" id="tool-figure-adjust-to-none"
                value="none" #figure_adjust_to_none (change)="tool.actions.adjustTo(figure_adjust_to_none.value)">
              <label class="form-check-label" for="tool-figure-adjust-to-none">
                Not Adjust
              </label>
            </div>
            <hr />
            <div class="custom-control custom-switch">
              <input type="checkbox" class="custom-control-input" id="tool-figure-normalize-unit" #figure_normalize_unit
                (change)="tool.actions.normalizeUnit(figure_normalize_unit.checked)" checked>
              <label class="custom-control-label" for="tool-figure-normalize-unit">Normalize Unit</label>
            </div>
            <div class="custom-control custom-switch">
              <input type="checkbox" class="custom-control-input" id="tool-figure-share" #figure_share
                (change)="tool.actions.share(figure_share.checked)">
              <label class="custom-control-label" for="tool-figure-share">Share with others</label>
            </div>
          </div>

        </div>
      </div>

    </div>

  </div>

</div>
